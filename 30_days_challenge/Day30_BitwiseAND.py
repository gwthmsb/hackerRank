from __future__ import print_function
from datetime import datetime

"""
Given N, K and S, where S={1, 2, 3, 4, ... N}

If (A, B) are in S, the find max of M such that M=A&B and M<K and A<B
"""



#n , k = 167, 127
#print(k-1 if ((k-1) | k) <= n else k-2)

def simple_sol():
    t1 = datetime.now()
    data_list = datasource_list()

    for data in data_list:
        n, k, o = data[0], data[1], data[2]
        print(k-1 if ((k-1) | k) <= n else k-2)
    print(datetime.now() - t1)


def main():
    t1 = datetime.now()

    #data_list = [[167, 127, 126]]
    data_list = datasource_list()

    for data in data_list:
        n, k, o = data[0], data[1], data[2]
        max_num = 0

        subset_of_and_operations = set()
        counter = 0
        # from k-1 to n
        if k % 2 == 0:
            step = 2
            if n-k == 1:
                step = 1
            # if k is odd, then there is no point in comparing with even numbers
            s, counter = get_set_of_and_results(k-1, n, step, counter)
            subset_of_and_operations.update(s)
        else:
            s, counter = get_set_of_and_results(k-1, n, 1, counter)
            subset_of_and_operations.update(s)

        if k-1 in subset_of_and_operations:
            max_num = k-1
        else:
            for i in xrange(k-2, 0, -1):
                if i in subset_of_and_operations:
                    max_num = i
                    break
                else:
                    s, counter = get_set_of_and_results(i, i+1, 1, counter)
                    if len(s) > 0:
                        max_num = s.pop()
                        break

        if max_num != o:
            print(data, max_num)

        print(counter)
    print(datetime.now() - t1)

def get_set_of_and_results(k, n, step=1, counter = 0):
    max_num = 0
    subset_of_and_operations = set()
    for A in xrange(k, n + 1, step):
        for B in xrange(A + step, n + 1, step):
            counter += 1
            result = A & B
            if result <= k and result > max_num:
                max_num = result
                subset_of_and_operations.add(result)
                if result == k: break
            if result == k: break
    return subset_of_and_operations, counter


def datasource_list():
    data = [(955, 236, 235), (132, 107, 106), (178, 104, 103), (394, 378, 377), (773, 29, 28), (159, 117, 116),
     (928, 443, 442), (250, 146, 145), (730, 468, 467), (601, 278, 277), (535, 449, 448), (293, 109, 108),
     (239, 87, 86), (559, 168, 167), (601, 435, 434), (199, 41, 40), (297, 50, 49), (407, 143, 142), (107, 33, 32),
     (227, 39, 38), (674, 86, 85), (153, 134, 133), (302, 53, 52), (823, 436, 435), (532, 125, 124), (149, 86, 85),
     (140, 133, 132), (887, 166, 165), (646, 496, 495), (481, 208, 207), (308, 190, 189), (467, 452, 451),
     (411, 130, 129), (835, 88, 87), (412, 192, 191), (174, 123, 122), (848, 390, 389), (435, 169, 168), (286, 50, 49),
     (906, 806, 805), (203, 148, 147), (145, 64, 63), (604, 358, 357), (217, 175, 174), (983, 977, 976),
     (979, 290, 289), (748, 134, 133), (974, 260, 259), (773, 681, 680), (563, 130, 129), (136, 25, 24),
     (591, 397, 396), (174, 6, 5), (552, 32, 31), (985, 66, 65), (118, 117, 116), (627, 308, 307), (117, 8, 7),
     (138, 90, 89), (843, 451, 450), (725, 59, 58), (787, 334, 333), (825, 22, 21), (516, 362, 361), (148, 30, 29),
     (663, 632, 631), (555, 108, 107), (676, 555, 554), (301, 118, 117), (122, 71, 70), (365, 261, 260),
     (253, 212, 211), (300, 212, 211), (134, 29, 28), (560, 275, 274), (784, 631, 630), (401, 364, 363),
     (148, 132, 131), (333, 196, 195), (502, 356, 355), (850, 580, 579), (759, 689, 688), (719, 390, 389),
     (245, 159, 158), (421, 186, 185), (224, 161, 160), (132, 46, 45), (299, 57, 56), (600, 223, 222), (140, 26, 25),
     (634, 192, 191), (942, 258, 257), (131, 57, 56), (763, 188, 187), (156, 4, 3), (780, 376, 375), (928, 619, 618),
     (150, 123, 122), (164, 152, 151), (866, 159, 158), (676, 223, 222), (840, 649, 648), (220, 185, 184),
     (199, 67, 66), (712, 704, 702), (401, 240, 239), (291, 259, 258), (291, 274, 273), (449, 107, 106),
     (392, 234, 233), (130, 51, 50), (142, 10, 9), (660, 530, 529), (159, 2, 1), (198, 85, 84), (882, 380, 379),
     (155, 33, 32), (214, 86, 85), (686, 476, 475), (430, 127, 126), (841, 24, 23), (339, 11, 10), (982, 684, 683),
     (425, 125, 124), (279, 137, 136), (294, 9, 8), (423, 379, 378), (860, 723, 722), (425, 339, 338), (426, 353, 352),
     (218, 145, 144), (859, 302, 301), (873, 867, 866), (815, 192, 191), (469, 374, 373), (110, 16, 15),
     (993, 703, 702), (212, 211, 210), (139, 70, 69), (624, 318, 317), (151, 34, 33), (343, 182, 181), (779, 401, 400),
     (941, 720, 719), (663, 301, 300), (841, 348, 347), (562, 186, 185), (599, 162, 161), (737, 525, 524),
     (162, 64, 63), (456, 301, 300), (184, 160, 158), (127, 15, 14), (769, 62, 61), (702, 114, 113), (397, 63, 62),
     (945, 263, 262), (865, 256, 255), (197, 164, 163), (198, 149, 148), (307, 260, 259), (762, 541, 540),
     (519, 177, 176), (410, 388, 387), (234, 172, 171), (449, 8, 7), (179, 157, 156), (582, 257, 256), (913, 363, 362),
     (116, 112, 110), (116, 50, 49), (276, 250, 249), (381, 199, 198), (655, 225, 224), (225, 5, 4), (424, 141, 140),
     (247, 97, 96), (118, 24, 23), (156, 52, 51), (614, 327, 326), (614, 327, 326), (160, 38, 37), (884, 855, 854),
     (336, 201, 200), (127, 76, 75), (785, 635, 634), (529, 52, 51), (417, 27, 26), (934, 502, 501), (157, 128, 126),
     (670, 172, 171), (412, 108, 107), (239, 173, 172), (457, 100, 99), (879, 588, 587), (117, 90, 89), (974, 331, 330),
     (195, 62, 61), (188, 125, 124), (773, 510, 509), (843, 531, 530), (661, 204, 203), (169, 14, 13), (253, 78, 77),
     (990, 39, 38), (731, 715, 714), (523, 328, 327), (260, 53, 52), (979, 401, 400), (393, 108, 107), (266, 161, 160),
     (348, 2, 1), (824, 135, 134), (466, 325, 324), (117, 9, 8), (385, 47, 46), (285, 41, 40), (541, 106, 105),
     (175, 125, 124), (223, 48, 47), (877, 853, 852), (711, 274, 273), (434, 189, 188), (157, 42, 41), (785, 305, 304),
     (515, 61, 60), (260, 220, 219), (961, 406, 405), (102, 59, 58), (774, 154, 153), (555, 374, 373), (103, 88, 87),
     (915, 722, 721), (415, 40, 39), (117, 32, 31), (146, 123, 122), (338, 49, 48), (871, 108, 107), (167, 127, 126),
     (140, 106, 105), (226, 109, 108), (693, 637, 636), (519, 286, 285), (431, 300, 299), (174, 49, 48), (101, 41, 40),
     (306, 23, 22), (397, 126, 125), (144, 17, 16), (547, 334, 333), (768, 204, 203), (983, 753, 752), (520, 87, 86),
     (281, 237, 236), (671, 269, 268), (544, 129, 128), (306, 179, 178), (757, 724, 723), (493, 285, 284),
     (700, 596, 595), (189, 103, 102), (291, 58, 57), (331, 284, 283), (347, 304, 303), (992, 856, 855),
     (944, 487, 486), (725, 325, 324), (163, 140, 139), (288, 216, 215), (885, 57, 56), (913, 42, 41), (401, 154, 153),
     (160, 18, 17), (575, 193, 192), (772, 595, 594), (123, 100, 99), (562, 132, 131), (523, 69, 68), (381, 68, 67),
     (512, 109, 108), (440, 209, 208), (479, 423, 422), (818, 572, 571), (917, 26, 25), (681, 435, 434),
     (645, 419, 418), (312, 241, 240), (526, 446, 445), (201, 155, 154), (738, 440, 439), (127, 64, 63),
     (794, 395, 394), (438, 373, 372), (761, 278, 277), (139, 82, 81), (568, 527, 526), (735, 454, 453),
     (527, 428, 427), (318, 311, 310), (739, 377, 376), (179, 98, 97), (951, 88, 87), (451, 182, 181), (858, 154, 153),
     (124, 77, 76), (180, 107, 106), (472, 458, 457), (899, 254, 253), (527, 476, 475), (553, 335, 334), (149, 78, 77),
     (982, 666, 665), (359, 249, 248), (191, 13, 12), (667, 237, 236), (449, 439, 438), (139, 33, 32), (528, 183, 182),
     (827, 107, 106), (112, 91, 90), (298, 213, 212), (278, 262, 261), (729, 96, 95), (271, 75, 74), (894, 540, 539),
     (683, 664, 663), (824, 417, 416), (231, 98, 97), (206, 25, 24), (178, 89, 88), (605, 112, 111), (486, 121, 120),
     (475, 192, 191), (753, 89, 88), (898, 820, 819), (450, 218, 217), (711, 371, 370), (684, 251, 250), (134, 5, 4),
     (674, 127, 126), (164, 123, 122), (754, 108, 107), (410, 398, 397), (163, 53, 52), (631, 33, 32), (440, 170, 169),
     (658, 600, 599), (184, 3, 2), (479, 357, 356), (346, 287, 286), (559, 261, 260), (576, 214, 213), (214, 55, 54),
     (952, 426, 425), (844, 288, 287), (938, 366, 365), (743, 547, 546), (360, 310, 309), (355, 84, 83), (195, 29, 28),
     (631, 488, 487), (700, 15, 14), (565, 28, 27), (641, 600, 599), (797, 717, 716), (551, 92, 91), (628, 64, 63),
     (400, 213, 212), (321, 194, 193), (228, 191, 190), (132, 24, 23), (520, 92, 91), (132, 126, 125), (152, 31, 30),
     (906, 219, 218), (272, 165, 164), (410, 385, 384), (865, 190, 189), (341, 239, 238), (933, 900, 899),
     (387, 264, 263), (743, 350, 349), (929, 216, 215), (686, 94, 93), (227, 168, 167), (554, 168, 167), (168, 74, 73),
     (778, 302, 301), (706, 39, 38), (328, 138, 137), (792, 432, 431), (372, 2, 1), (589, 477, 476), (436, 241, 240),
     (419, 346, 345), (184, 105, 104), (946, 214, 213), (769, 267, 266), (745, 411, 410), (108, 82, 81),
     (506, 228, 227), (203, 191, 190), (104, 81, 80), (391, 44, 43), (343, 196, 195), (824, 775, 774), (253, 175, 174),
     (912, 214, 213), (911, 274, 273), (924, 458, 457), (250, 143, 142), (875, 494, 493), (966, 336, 335),
     (698, 249, 248), (370, 128, 127), (578, 20, 19), (517, 89, 88), (625, 67, 66), (180, 62, 61), (561, 97, 96),
     (113, 70, 69), (837, 61, 60), (390, 99, 98), (970, 687, 686), (584, 284, 283), (476, 198, 197), (819, 284, 283),
     (106, 44, 43), (966, 889, 888), (375, 239, 238), (635, 118, 117), (174, 96, 95), (340, 185, 184), (127, 67, 66),
     (859, 784, 783), (865, 811, 810), (334, 266, 265), (698, 438, 437), (339, 330, 329), (281, 234, 233),
     (826, 275, 274), (968, 774, 773), (750, 87, 86), (277, 2, 1), (237, 209, 208), (750, 266, 265), (196, 56, 55),
     (590, 179, 178), (524, 384, 383), (240, 24, 23), (918, 155, 154), (666, 256, 255), (470, 383, 382), (106, 73, 72),
     (908, 536, 535), (147, 116, 115), (595, 482, 481), (744, 100, 99), (178, 28, 27), (699, 128, 127), (189, 53, 52),
     (872, 349, 348), (988, 575, 574), (989, 970, 969), (123, 28, 27), (924, 222, 221), (422, 136, 135),
     (347, 131, 130), (648, 293, 292), (476, 386, 385), (777, 380, 379), (633, 129, 128), (445, 53, 52), (202, 63, 62),
     (188, 75, 74), (225, 147, 146), (961, 896, 894), (123, 122, 121), (187, 178, 177), (838, 650, 649),
     (607, 306, 305), (244, 99, 98), (191, 55, 54), (634, 349, 348), (787, 599, 598), (303, 221, 220), (862, 543, 542),
     (426, 162, 161), (908, 173, 172), (559, 525, 524), (707, 406, 405), (130, 61, 60), (548, 533, 532),
     (459, 155, 154), (435, 378, 377), (653, 279, 278), (114, 9, 8), (131, 7, 6), (393, 347, 346), (162, 45, 44),
     (844, 813, 812), (562, 522, 521), (731, 328, 327), (630, 612, 611), (487, 434, 433), (398, 304, 303),
     (157, 89, 88), (583, 329, 328), (947, 566, 565), (979, 594, 593), (190, 27, 26), (359, 198, 197), (969, 231, 230),
     (468, 422, 421), (413, 76, 75), (998, 80, 79), (443, 153, 152), (635, 282, 281), (843, 744, 743), (560, 349, 348),
     (272, 150, 149), (905, 714, 713), (176, 126, 125), (323, 147, 146), (291, 124, 123), (799, 665, 664),
     (488, 392, 391), (953, 409, 408), (533, 365, 364), (680, 259, 258), (815, 556, 555), (598, 209, 208),
     (411, 258, 257), (755, 72, 71), (422, 244, 243), (845, 687, 686), (846, 21, 20), (272, 29, 28), (693, 537, 536),
     (881, 236, 235), (154, 35, 34), (197, 3, 2), (151, 55, 54), (663, 346, 345), (685, 252, 251), (603, 287, 286),
     (114, 29, 28), (884, 391, 390), (110, 8, 7), (107, 54, 53), (159, 101, 100), (669, 517, 516), (842, 109, 108),
     (568, 332, 331), (503, 51, 50), (114, 7, 6), (605, 35, 34), (387, 246, 245), (387, 130, 129), (167, 47, 46),
     (486, 307, 306), (538, 345, 344), (177, 176, 174), (732, 309, 308), (771, 221, 220), (146, 30, 29), (264, 3, 2),
     (114, 79, 78), (818, 633, 632), (215, 133, 132), (191, 151, 150), (180, 170, 169), (936, 814, 813), (396, 7, 6),
     (311, 3, 2), (737, 210, 209), (512, 440, 439), (296, 25, 24), (723, 356, 355), (353, 171, 170), (610, 316, 315),
     (383, 2, 1), (132, 61, 60), (457, 210, 209), (752, 678, 677), (766, 301, 300), (168, 53, 52), (793, 753, 752),
     (487, 199, 198), (422, 41, 40), (370, 306, 305), (857, 435, 434), (362, 31, 30), (462, 384, 382), (727, 648, 647),
     (963, 812, 811), (103, 6, 5), (336, 183, 182), (188, 91, 90), (136, 16, 15), (137, 9, 8), (343, 257, 256),
     (138, 119, 118), (683, 570, 569), (706, 55, 54), (877, 700, 699), (175, 102, 101), (280, 2, 1), (976, 794, 793),
     (613, 473, 472), (189, 119, 118), (376, 26, 25), (497, 69, 68), (976, 899, 898), (890, 197, 196), (925, 388, 387),
     (165, 22, 21), (142, 109, 108), (626, 2, 1), (316, 127, 126), (101, 29, 28), (473, 361, 360), (779, 540, 539),
     (693, 174, 173), (566, 44, 43), (182, 8, 7), (829, 191, 190), (261, 98, 97), (670, 529, 528), (603, 190, 189),
     (128, 60, 59), (663, 176, 175), (717, 438, 437), (439, 139, 138), (666, 98, 97), (664, 337, 336), (166, 16, 15),
     (738, 411, 410), (287, 75, 74), (773, 523, 522), (547, 523, 522), (996, 621, 620), (524, 12, 11), (406, 30, 29),
     (999, 737, 736), (841, 91, 90), (600, 323, 322), (799, 499, 498), (376, 61, 60), (268, 148, 147), (358, 162, 161),
     (838, 565, 564), (178, 39, 38), (149, 38, 37), (164, 76, 75), (933, 309, 308), (636, 134, 133), (977, 482, 481),
     (943, 556, 555), (325, 148, 147), (571, 125, 124), (876, 501, 500), (530, 490, 489), (192, 70, 69),
     (724, 604, 603), (212, 37, 36), (586, 466, 465), (300, 148, 147), (179, 120, 119), (116, 114, 113),
     (934, 786, 785), (509, 15, 14), (120, 92, 91), (670, 617, 616), (575, 435, 434), (747, 645, 644), (949, 890, 889),
     (179, 77, 76), (959, 77, 76), (904, 291, 290), (867, 14, 13), (722, 370, 369), (170, 112, 111), (151, 114, 113),
     (654, 274, 273), (521, 228, 227), (679, 341, 340), (714, 13, 12), (487, 399, 398), (436, 233, 232),
     (659, 533, 532), (284, 136, 135), (618, 19, 18), (503, 433, 432), (876, 231, 230), (391, 104, 103), (234, 24, 23),
     (871, 387, 386), (373, 31, 30), (596, 512, 510), (867, 79, 78), (654, 323, 322), (711, 184, 183), (261, 142, 141),
     (273, 95, 94), (874, 131, 130), (140, 100, 99), (123, 30, 29), (527, 198, 197), (740, 573, 572), (688, 389, 388),
     (119, 87, 86), (881, 612, 611), (594, 85, 84), (984, 692, 691), (110, 18, 17), (839, 78, 77), (584, 169, 168),
     (152, 118, 117), (149, 140, 139), (426, 232, 231), (402, 136, 135), (752, 538, 537), (729, 577, 576),
     (355, 225, 224), (871, 498, 497), (652, 651, 650), (362, 158, 157), (417, 235, 234), (474, 11, 10),
     (292, 103, 102), (409, 257, 256), (256, 53, 52), (780, 204, 203), (160, 141, 140), (795, 352, 351),
     (326, 177, 176), (173, 2, 1), (125, 121, 120), (798, 548, 547), (567, 492, 491), (788, 637, 636), (176, 145, 144),
     (645, 181, 180), (971, 141, 140), (309, 181, 180), (605, 83, 82), (177, 131, 130), (576, 424, 423),
     (522, 134, 133), (455, 449, 448), (134, 18, 17), (244, 201, 200), (173, 5, 4), (149, 68, 67), (876, 225, 224),
     (671, 650, 649), (360, 38, 37), (876, 453, 452), (465, 77, 76), (123, 87, 86), (594, 432, 431), (552, 34, 33),
     (617, 330, 329), (650, 144, 143), (760, 145, 144), (291, 75, 74), (150, 71, 70), (804, 90, 89), (561, 187, 186),
     (917, 646, 645), (960, 333, 332), (601, 108, 107), (809, 17, 16), (478, 83, 82), (135, 41, 40), (181, 29, 28),
     (823, 377, 376), (270, 164, 163), (302, 147, 146), (845, 613, 612), (864, 290, 289), (565, 194, 193), (290, 5, 4),
     (956, 896, 894), (344, 211, 210), (155, 102, 101), (406, 71, 70), (352, 151, 150), (378, 281, 280),
     (317, 268, 267), (759, 17, 16), (259, 184, 183), (570, 226, 225), (326, 39, 38), (797, 604, 603), (446, 352, 351),
     (367, 94, 93), (842, 725, 724), (827, 548, 547), (116, 91, 90), (758, 297, 296), (545, 141, 140), (180, 168, 167),
     (885, 533, 532), (940, 810, 809), (735, 150, 149), (775, 294, 293), (855, 666, 665), (854, 749, 748),
     (872, 735, 734), (787, 748, 747), (228, 164, 163), (608, 197, 196), (114, 11, 10), (645, 84, 83), (233, 150, 149),
     (723, 64, 63), (532, 293, 292), (626, 603, 602), (778, 180, 179), (392, 291, 290), (151, 79, 78), (827, 303, 302),
     (192, 6, 5), (152, 34, 33), (319, 44, 43), (717, 309, 308), (863, 675, 674), (217, 7, 6), (126, 36, 35),
     (538, 514, 513), (729, 428, 427), (903, 501, 500), (199, 115, 114), (153, 68, 67), (959, 327, 326),
     (939, 461, 460), (754, 538, 537), (906, 153, 152), (842, 326, 325), (113, 32, 31), (851, 282, 281),
     (507, 464, 463), (944, 898, 897), (759, 743, 742), (600, 2, 1), (987, 465, 464), (521, 474, 473), (663, 521, 520),
     (494, 171, 170), (441, 240, 239), (227, 101, 100), (451, 281, 280), (522, 410, 409), (870, 749, 748),
     (272, 35, 34), (471, 15, 14), (529, 493, 492), (393, 52, 51), (969, 919, 918), (945, 423, 422), (663, 78, 77),
     (457, 259, 258), (196, 87, 86), (105, 89, 88), (869, 829, 828), (105, 71, 70), (178, 133, 132), (185, 112, 111),
     (140, 104, 103), (651, 43, 42), (253, 171, 170), (930, 489, 488), (814, 759, 758), (534, 374, 373),
     (386, 376, 375), (983, 896, 894), (538, 495, 494), (150, 22, 21), (974, 826, 825), (728, 554, 553),
     (899, 795, 794), (702, 465, 464), (212, 15, 14), (113, 17, 16), (828, 290, 289), (632, 494, 493), (100, 17, 16),
     (524, 137, 136), (586, 116, 115), (225, 56, 55), (545, 364, 363), (267, 168, 167), (606, 363, 362),
     (285, 260, 259), (223, 145, 144), (149, 21, 20), (720, 415, 414), (682, 598, 597), (937, 274, 273),
     (743, 511, 510), (751, 650, 649), (223, 184, 183), (247, 118, 117), (459, 125, 124), (479, 374, 373), (117, 5, 4),
     (814, 341, 340), (961, 274, 273), (620, 74, 73), (145, 56, 55), (588, 379, 378), (634, 268, 267), (612, 501, 500),
     (987, 697, 696), (286, 116, 115), (596, 467, 466), (756, 67, 66), (273, 145, 144), (103, 100, 99), (918, 596, 595),
     (517, 218, 217), (954, 837, 836), (248, 200, 199), (829, 711, 710), (423, 166, 165), (581, 124, 123),
     (887, 415, 414), (601, 378, 377), (531, 8, 7), (645, 387, 386), (829, 569, 568), (561, 306, 305), (945, 897, 896),
     (467, 450, 449), (577, 282, 281), (708, 473, 472), (996, 576, 575), (669, 314, 313), (777, 62, 61),
     (672, 616, 615), (614, 39, 38), (426, 277, 276), (522, 46, 45), (577, 254, 253), (133, 76, 75), (938, 697, 696),
     (124, 89, 88), (312, 151, 150), (352, 37, 36), (747, 469, 468), (736, 401, 400), (504, 181, 180), (134, 51, 50),
     (962, 936, 935), (408, 281, 280), (188, 170, 169), (471, 470, 469), (877, 746, 745), (516, 485, 484),
     (740, 362, 361), (704, 157, 156), (411, 114, 113), (765, 307, 306), (789, 3, 2), (467, 382, 381), (319, 26, 25),
     (344, 105, 104), (804, 305, 304), (108, 26, 25), (122, 8, 7), (928, 658, 657), (197, 7, 6), (109, 85, 84),
     (347, 316, 315), (129, 3, 2), (200, 164, 163), (616, 405, 404), (145, 141, 140), (565, 304, 303), (100, 17, 16),
     (169, 56, 55), (294, 152, 151), (934, 95, 94), (954, 441, 440), (776, 191, 190), (190, 41, 40), (768, 388, 387),
     (960, 768, 766), (885, 102, 101), (890, 885, 884), (416, 259, 258), (341, 52, 51), (104, 46, 45), (376, 185, 184)]

    return data



if __name__ == "__main__":
    #main()
    simple_sol()